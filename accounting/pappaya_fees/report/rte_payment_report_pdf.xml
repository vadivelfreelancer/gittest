<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

		<template id="generate_rte_payment_pdf_report">
			<t t-call="report.html_container">
				<t t-set="data_report_margin_top" t-value="40"/>
				<t t-set="data_report_dpi" t-value="90"/>
				<t t-foreach="docs" t-as="o">
					<t t-foreach="o.get_school_header()" t-as="l">
                        <div class="header">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center;">
                                    <img t-if="res_company.logo" t-att-src="'data:image/png;base64,%s' % res_company.logo" style="height:110px;max-height:130px;width:110px;max-width:130px;margin-left:20px;"/>
                                </div>
                                <div class="col-xs-10">
                                    <div style="font-weight:700;font-size:20px; text-align:center;">
                                        <t t-if="l['school_id']"> <strong><span t-esc="l['school_id']"/></strong></t>
                                    </div>
                                    <div style="font-size:15px; text-align:center;">
                                        <t t-if="l['street']"> <span t-esc="l['street']"/>,</t>
                                        <t t-if="l['street2']"> <span t-esc="l['street2']"/>,</t>
                                        <t t-if="l['city']"> <span t-esc="l['city']"/> </t>-
                                        <t t-if="l['zip']"> <span t-esc="l['zip']"/></t>
                                    </div>
                                    <div style="font-size:15px; text-align:center;">
                                        <t t-if="l['phone']"> Tel: <span t-esc="l['phone']"/>,</t>
                                        <t t-if="l['fax']"> Fax: <span t-esc="l['fax']"/>,</t>
                                        <t t-if="l['email']"> Email: <span t-esc="l['email']"/></t>
                                    </div>
                                    <div style="font-size:14px; text-align:center;">
                                        <t t-if="l['website']"> Website: <span t-esc="l['website']"/></t>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-foreach="o.get_society_header()" t-as="soc">
                        <div class="header">
                            <div class="row">
                                <div class="col-xs-2" style="text-align:center;">
                                    <img t-if="res_company.logo" t-att-src="'data:image/png;base64,%s' % res_company.logo" style="height:110px;max-height:130px;width:110px;max-width:130px;margin-left:20px;"/>
                                </div>
                                <div class="col-xs-10">
                                    <br/><br/>
                                    <div style="font-weight:600;font-size:22px;text-align:center;">
                                        <t t-if="soc['society_id']"> <strong><span t-esc="soc['society_id']"/></strong></t>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
					<div class="page">
						<style>
							.row1 {
								text-align:center;
								font-size:18px;
								border-top:1px solid black;
								padding-top:10px;
								padding-bottom:30px
								}
							.row2 {
								text-align:left;
								font-size:16px;
								padding-bottom:5px
								}
							.table-condensed {
								width:100%;
								border:1px solid black;
								font-size:12px;
								}
							.result1 td {
								text-align:center;
								vertical-align:middle;
								border-right:1px solid black;
								border-bottom:1px solid black;
								font-size:12px;
								}
							.result2 td {
								font-size:12px;
								vertical-align:middle;
								border-right:1px solid black;
								border-bottom:1px solid black;
								}
							   .DIS_watermark_report{
								background:url('/theme_pappaya/static/src/img/logo_dis.png') no-repeat center center; position:fixed; width:100%; height:100%; pointer-events: none; opacity:0.15; z-index:9999}
								}
						</style>
						<!--<div class="DIS_watermark_report"/>-->
						<div class="row1">
							<strong>RTE Payment Report</strong>
						</div>
						<div class="text-center">
							<strong>For the period of  <t t-if="o.from_date"><span t-esc="time.strftime('%d/%b/%Y', time.strptime(o.from_date,'%Y-%m-%d'))"/></t>
							to <t t-if="o.to_date"><span t-esc="time.strftime('%d/%b/%Y', time.strptime(o.to_date,'%Y-%m-%d'))"/></t></strong>
						</div>
						<div>
							<table class="table-condensed">
								<thead>
								<tr class="result1">
									<td><strong>S.No</strong></td>
									<td><strong>Branch</strong></td>
									<td><strong>Registration No</strong></td>
									<td><strong>Student</strong></td>
									<td><strong>DOB</strong></td>
									<td><strong>Address</strong></td>
									<td><strong>Mobile</strong></td>
									<td><strong>Class</strong></td>
									<td><strong>Actual Fees</strong></td>
									<td><strong>Book Fees</strong></td>
									<td><strong>Dress Fees</strong></td>
									<td><strong>Total Fee</strong></td>
									<td><strong>Payment Date</strong></td>
									<td><strong>Mode of Payment (CHQ/DD/NEFT)</strong></td>
									<td><strong>Payment Details According to Payment Head</strong></td>
								</tr>
								</thead>
								<tbody>
								<t t-foreach="o.get_data()" t-as="l">
									<tr class="result2">
										<td class="text-center"><span t-esc="l['s_no']"/></td>
										<td class="text-left"><span t-esc="l['school']"/></td>
										<td class="text-center"><span t-esc="l['reg_no']"/></td>
										<td class="text-left"><span t-esc="l['student']"/></td>
										<td class="text-center"><t t-if="l['dob']"><span t-esc="time.strftime('%d/%m/%Y', time.strptime(l['dob'],'%Y-%m-%d'))"/></t></td>
										<td class="text-center"><span t-esc="l['addres']"/></td>
										<td class="text-center"><span t-esc="l['f_mobile']"/></td>
										<td class="text-center"><span t-esc="l['class']"/></td>
										<td class="text-right"><span t-esc="'%.2f' %l['actual']"/></td>
										<td class="text-right"><span t-esc="'%.2f' %l['book']"/></td>
										<td class="text-right"><span t-esc="'%.2f' %l['dress']"/></td>
										<td class="text-right"><span t-esc="'%.2f' %l['total']"/></td>
										<td class="text-center"><t t-if="l['payment_date']"><span t-esc="time.strftime('%d/%b/%Y', time.strptime(l['payment_date'],'%Y-%m-%d'))"/></t></td>
										<td class="text-center"><span t-esc="l['mode']"/></td>
										<td class="text-center"><span t-esc="l['fees_head']"/></td>
									</tr>
								</t>
								</tbody>
							</table>
						</div>
					</div>
					<div class="footer">
						<table>
							<thead>
								<tr>
									<td class="col-xs-5 pull-left" style="font-size:16px;">
										<strong>Dated On: </strong> <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%b/%Y %H:%M:%S')"/>
									</td>
									<td class="col-xs-2 pull-right" style="font-size:16px;">
										<strong>Generated By: </strong> <span t-esc="user.name"/>
									</td>
								</tr>
							</thead>
						</table>
					</div>
				</t>
			 </t>
		</template>

		<report
			id="print_generate_rte_payment_pdf_report"
			model="rte.payment.report"
			string="RTE Payment Report"
			report_type="qweb-pdf"
			name="pappaya_fees.generate_rte_payment_pdf_report"
			file="pappaya_fees.generate_rte_payment_pdf_report"
			attachment_use="False"
		/>

		<!-- <record id="pappaya_fees.print_generate_rte_payment_pdf_report" model="ir.actions.report.xml">
            <field name="paperformat_id" ref="pappaya_core.paperformat_euro_landscape"/>
        </record>
	 -->
    </data>
</openerp>


