<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

        <template id="template_daybook">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="pappaya_base.report_custom_layout">
                        <div class="page">
                            <style>
                                .row1 {
                                    text-align:center;
                                    font-size:17px;
                                    padding-top:20px;
                                    padding-bottom:20px
                                    }
                                .table-condensed1 {
                                    width:100%;
                                    text-align:center;
                                    border:1px solid black;
                                    font-size:16px;
                                    }
                                .result1 td {
                                    text-align:center;
                                    border-bottom:1px solid black;
                                    font-size:16px
                                    }
                            </style>
                            <div class="row">
                                <div class="col-xs-2" style="text-align:left;padding-top:35px">
                                    <img t-attf-src="/pappaya_base/static/src/img/logo.png"/>
                                </div>
                                <div class="col-xs-10" style="text-align:right;">
                                    <div style="font-weight:700;font-size:22px;text-align:center;">
                                        <strong>
                                            <span t-raw="'%s' % res_company.partner_id.name if res_company.partner_id.name else ''" />
                                        </strong>
                                    </div>
                                    <div style="font-size:15px; text-align:center">
                                        <span t-raw="'%s' % res_company.street if res_company.street else ''"/>
                                    </div>
                                    <div style="font-size:15px; text-align:center">
                                        <span t-raw="'%s' % res_company.city if res_company.city else ''" />,
                                        <span t-raw="'%s' % res_company.state_id.name if res_company.state_id else ''"/>-
                                        <span t-raw="'%s' % res_company.zip if res_company.zip else ''" />
                                    </div>
                                    <div style="font-size:15px; text-align:center">
                                        Phone:<span t-raw="'%s' % res_company.phone if res_company.phone else ''"/>,
                                        Email:<span t-raw="'%s' % res_company.email if res_company.email else ''"/>
                                    </div>
                                    <div style="font-size:14px; text-align:center;padding-bottom:20px;">
                                        <span t-raw="'%s' % res_company.website if res_company.website else ''"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row1">
                                <div class="col-xs-2" style="text-align:left;"/>
                                <div class="col-xs-10" style="text-align:center;">
                                    <strong>DAYBOOK REPORT</strong> <br/>
                                    <!--<b>Academic Year : <span t-field="o.academic_year_id.name"/></b>-->
                                </div>
                            </div>
                            <div>
                                <t t-foreach="o.get_data()" t-as="d">
                                    <t t-if="d['branch'] and d['receipt_line']">
                                    <table class="table-condensed1">
                                        <thead>
                                             <tr>
                                                <td colspan="3" style="border-bottom:1px solid black;"></td>
                                                <td colspan="2" style="border-bottom:1px solid black;border-right:1px solid black;"><strong>Branch</strong></td>
                                                <td colspan="2" style="border-bottom:1px solid black;"><strong>Entity</strong></td>
                                                <td colspan="3" style="border-bottom:1px solid black;"></td>
                                            </tr>
                                            <tr>
                                                <td colspan="3" style="border-bottom:1px solid black;"></td>
                                                <td colspan="2" style="border-bottom:1px solid black;border-right:1px solid black;"><span t-esc="d['branch']"/></td>
                                                <td colspan="2" style="border-bottom:1px solid black;"><span t-esc="d['entity']"/></td>
                                                <td colspan="3" style="border-bottom:1px solid black;"></td>
                                            </tr>
                                            <tr>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>S.NO</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>ADMISSION NO</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>STUDENT NAME</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>CODE</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>FEE HEAD</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>TRANSACTION TYPE</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>RECEIPT DATE</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>PAYMENT MODE</strong></td>
                                                <td style="border-right:1px solid black;border-bottom:1px solid black;"><strong>AMOUNT</strong></td>
                                                <td style="border-bottom:1px solid black;"><strong>PAYMENT STATUS</strong></td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-foreach="d['receipt_line']" t-as="l">
                                                <tr class="result1">
                                                    <td style="border-right:1px solid black;"><span t-esc="l['s_no']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['adm_no']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['student_name']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['code']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['fee_head']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['trans_type']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['receipt_date']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['payment_mode']"/></td>
                                                    <td style="border-right:1px solid black;"><span t-esc="l['amount']"/></td>
                                                    <td><span t-esc="l['status'].capitalize()"/></td>
                                                </tr>
                                            </t>
                                            <t t-foreach="d['paymode_total_line']" t-as="p">
                                                <tr>
                                                    <td colspan="8"/>
                                                    <td><strong>By <span t-esc="p['pay_mode']"/></strong></td> <br/>
                                                    <td><strong><span t-esc="p['pay_total']"/></strong></td>
                                                </tr>
                                            </t>
                                             <tr>
                                                <td colspan="8"/>
                                                <td><strong>Total</strong></td>
                                                <td><strong><span t-esc="d['total_payment']"/></strong></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>

        <report
            id="print_template_daybook"
            model="day.book.wizard"
            string="Day Book"
            report_type="qweb-pdf"
            name="pappaya_fees.template_daybook"
            file="pappaya_fees.template_daybook"
            attachment_use="False"
            menu="False"
        />

        <record id="paperformat_custom_fees_landscape_portrait" model="report.paperformat">
			<field name="name">European A4 - Portrait Custom Fees</field>
			<field name="default" eval="True" />
			<field name="format">A4</field>
			<field name="page_height">0</field>
			<field name="page_width">0</field>
			<field name="orientation">Landscape</field>
			<field name="margin_top">10</field>
			<field name="margin_bottom">20</field>
			<field name="margin_left">10</field>
			<field name="margin_right">10</field>
			<field name="header_line" eval="False"/>
			<field name="header_spacing">30</field>
			<field name="dpi">110</field>
		</record>

        <!--Paperformat-->
        <record id="pappaya_fees.print_template_daybook" model="ir.actions.report">
            <field name="paperformat_id" ref="pappaya_fees.paperformat_custom_fees_landscape_portrait"/>
        </record>

	</data>
</odoo>
