<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<record id="view_users_form_inherit_pappaya_base" model="ir.ui.view">
			<field name="name">view.users.form.inherit.pappaya.base</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form"/>
			<field name="arch" type="xml">
				<field name="tz" position="after">
					<field name="pro_security_code" attrs="{'required':[('login','=','admin')],'invisible':[('login','!=','admin')]}"/>
					<field name="employee_id"/>
				</field>
				<xpath expr="//form/sheet/notebook/page/group[@name='messaging']" position="attributes">
					<attribute name="groups">base.group_no_one</attribute>
				</xpath>
			</field>	
		</record>
	
		<record id="view_pappaya_users_tree" model="ir.ui.view">
			<field name="name">res.users.tree.pappaya</field>
			<field name="model">res.users</field>
			<field name="arch" type="xml">
				<tree string="Users" colors="red:id == uid;" duplicate="0">
					<field name="name" />
					<field name="login" string="Login ID"/>
					<field name="date_of_joining" />
       				<field name="mobile" />
       				<field name="email" required="1"/>
                    <field name="login_date"/>
                    <field name="active" invisible="1"/>
	                <field name="company_id" string="Organization" />
	                <field name="mobile_user_login_status" invisible="1"/>
				</tree>
			</field>
		</record>
		
		<record id="view_pappaya_users_form" model="ir.ui.view">
            <field name="name">res.users.form.pappaya</field>
            <field name="model">res.users</field>
            <field name="arch" type="xml">
                <form string="Users" duplicate="0">
                    <header>
                        <button string="Change Password" type="action" name="%(base.change_password_wizard_action)d"/>
                    </header>
                    <sheet>
                        <field name="id" invisible="1" groups="base.group_system"/>
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-check">
                                <field name="active" widget="boolean_button" options='{"terminology": "active"}'/>
                            </button>
                        </div>
                        <field name="image" widget="image" class="oe_avatar" options='{"preview_image": "image_medium"}' />
                        <div class="oe_title">
                        	<label for="name" string="Name" class="oe_edit_only"/>
                            <h2>
								<table>
									<tr>
										<td style="padding-right:6px"><field name="name" required="1" placeholder="First Name" style="width:200px"/></td>
										<td style="padding-right:6px"><field name="middle_name" placeholder="Middle Name" style="width:200px"/></td>
										<td style="padding-right:6px"><field name="last_name" placeholder="Last Name" style="width:200px"/></td>
									</tr>
                                </table>
                            </h2>
                            <field name="email" invisible="1"/>
                            <label for="login" string="Login ID"/>
                            <h2><field name="login" on_change="on_change_login(login)" style="max-width: 185px;" /></h2>
                        </div>
                        <notebook>
                        	<page string="Basic Information">
                        		<group>
                        			<group>
                        				<field name="employee_id" options="{'no_open':True,'no_create':True}" domain="[('id','!=',1)]"/>
           								<field name="payroll_branch_id" invisible="1" options="{'no_open':True,'no_create':True}"/>
           								<field name="admission_branch_ids_m2m" invisible="1" options="{'no_open':True,'no_create':True}" widget="many2many_tags"/> 
		                        		<label for="street" string="Address"/>
		                                <div class="o_address_format">
		                                    <field name="street" placeholder="Address 1..." class="o_address_street" readonly="1"/>
		                                    <field name="street2" placeholder="Address 2..." class="o_address_street" readonly="1"/>
		                                    <field name="city" placeholder="City/Taluk/Mandal" class="o_address_city" readonly="1"/>
		                                    <field name="state_id" domain="[('country_id','=',country_id)]" class="o_address_state" placeholder="State" options="{'no_open': True,'no_create':True}" readonly="1"/>
		                                    <field name="zip" placeholder="ZIP" class="o_address_zip" readonly="1"/>
		                                    <field name="country_id" placeholder="Country" class="o_address_country" options="{'no_open': True,'no_create':True}" readonly="1"/>
		                                </div>
	                                </group>
                        			<group>
                        				<field name="gender_id" options="{'no_open':True,'no_create':True}" readonly="1"/>
                        				<field name="birth_date" readonly="1"/>
                        				<field name="date_of_joining" readonly="1"/>
                        				<field name="email" readonly="1"/>
                        				<field name="mobile" readonly="1"/>
                                        <field name="phone" readonly="1"/>
                                        <field name="mobile_user_login_status" invisible="1"/>
<!--                                         <label for="phone" string="Phone" />
										<div class="o_address_format">
											<field name="phone_country_code" style="max-width: 30px;" class="o_address_city"/>
											<field name="phone" placeholder="Phone" class="o_address_city" required="1" />
										</div>
					                    <label for="mobile" string="Mobile" />
										<div class="o_address_format">
											<field name="mobile_country_code" style="max-width: 30px;" class="o_address_city"/><field name="mobile" placeholder="Mobile" class="o_address_city" />
										</div> -->
                        			</group>
                                </group>
                        	</page>
                            <page name="access_rights" string="Access Rights">
                            	<group>
	                                <group>
	                                	<field name="super_admin" invisible="1"/>
	                               		<field name="company_type" invisible="1"/>
	                                	<!-- <field name="type" widget="radio" required="1" options="{'horizontal': true}"/> -->

	                                	<field string="Branches" name="operating_unit_ids" required="1" widget="many2many_tags" 
	                                		 options="{'no_open': True,'no_create':True}"/>
	                                	<field string="Current Branch" name="default_operating_unit_id" context="{'user_preference': 0}" options="{'no_open': True,'no_create':True}"/>

	                                	<!-- <field string="Organization" name="company_ids" invisible="1" widget="many2many_tags" 
	                                		 options="{'no_open': True,'no_create':True}"/>
                                    	<field string="Current Organization" name="company_id" context="{'user_preference': 0}" options="{'no_open': True,'no_create':True}" groups="base.group_system"/> -->
	                                </group>
                                </group>
								<group string="Admission">
									<group>
    									<field name="admission_administrator"/>
    									<field name="admission_revenue_head"/>
										<field name="admission_revenue_assistant"/>
									</group>
									<group>
										<field name="admission_revenue_operation_head"/>
    									<field name="admission_revenue_operation_assistant"/>
    									<field name="admission_chamber"/>
									</group>
									<group/>
								</group>
								<group string="Marketing Management">
									<group>
										<field name="pro_user"/>
										<field name="pro_security_code" invisible="1"/>
									</group>
									<group>
										<field name="pro_admin"/>
									</group>
								</group>

								<group string="HR &amp; Payroll">
									<group>
    									<field name="hr_administrator"/>
    									<field name="hr_executives"/>
    									<field name="hr_operations_head"/>
    									<field name="hr_cpo"/>
    									<field name="payroll_operation"/>
    									<field name="payroll_head"/>
									</group>
									<group>
										<field name="hr_branch_accountants"/>
    									<field name="hr_zonal_accountant"/>
    									<field name="hr_principal_hod"/>
    									<field name="hr_deans"/>
    									<field name="hr_branch_employees"/>
									</group>
									<group/>
								</group>

                            </page>
                            <page string="Preferences" invisible="1">
                                <group>
                                    <group string="Localization" name="preferences">
                                        <field name="lang"/>
                                        <field name="tz" widget="timezone_mismatch" options="{'tz_offset_field': 'tz_offset'}" />
                                        <field name="tz_offset" invisible="1"/>
                                    </group>
                                    <!-- <group string="Menus Customization" groups="base.group_no_one">
                                        <field name="action_id"/>
                                    </group> -->
                                </group>
                                <group string="Messaging and Social" name="messaging">
                                    <field name="signature"/>
                                </group>
                            </page>
                            <page string="Marketing Configuration">
								<group string="Year wise Configuration">
									<field name="yearwise_config_ids_o2m" context="{'payroll_branch_id':payroll_branch_id}" nolabel="1">
										<tree editable="bottom">
											<field name="user_id" invisible="1"/>
											<field name="academic_year_id" options="{'no_open':True,'no_create':True}" domain="[('is_active','=',True)]"/>
											<field name="payroll_branch_id" options="{'no_open':True,'no_create':True}"/>
											<field name="admission_branch_ids_m2m" widget="many2many_tags" domain="[('id','!=',1)]"
												options="{'no_open':True,'no_create':True}" required="1"/>
										</tree>
									</field>
								</group>
								<group string="Last Sync Details" invisible="1">
									<field name="state_last_sync" readonly="1"/>
									<field name="lead_course_last_sync" readonly="1"/>
									<field name="lead_school_last_sync" readonly="1"/>
									<field name="district_last_sync" readonly="1"/>
									<field name="city_last_sync" readonly="1"/>
									<field name="ward_last_sync" readonly="1"/>
									<field name="ward_area_last_sync" readonly="1"/>
									<field name="mandal_last_sync" readonly="1"/>
									<field name="village_last_sync" readonly="1"/>
									<field name="branch_last_sync" readonly="1"/>
								</group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="view_pappaya_users_search" model="ir.ui.view">
            <field name="name">res.users.search.pappaya</field>
            <field name="model">res.users</field>
            <field name="arch" type="xml">
                <search string="Users">
                    <field name="name" filter_domain="['|', '|', ('name','ilike',self), ('login','ilike',self), ('email','ilike',self)]" string="User"/>
                    <field name="login" string="Username"/>
                    <field name="email" />
                    <field name="share"/>
                    <separator />
                    <filter name="no_share" string="Active Users" domain="[('share','=',False)]"/>
                    <filter name="Inactive" string="Inactive Users" domain="[('active','=',False)]"/>
                    <group expand="0" string="Group By...">
                        <filter name="group_by_type" string="Type" context="{'group_by':'type'}"/>
                        <filter name="group_by_company_id" string="Organization" context="{'group_by':'company_id'}"/>
                        <separator />
                        <filter name="group_by_city" string="City" context="{'group_by':'city'}"/>
                        <filter name="group_by_state_id" string="State" context="{'group_by':'state_id'}"/>
                        <filter name="group_by_country_id" string="Country" context="{'group_by':'country_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="pappaya_users_action" model="ir.actions.act_window">
			<field name="name">Users</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">res.users</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('id','!=',1)]</field>
			<field name="search_view_id" ref="view_pappaya_users_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_pappaya_users_tree')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_pappaya_users_form')})]" />
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					Click to add a new Users.
				</p>
			</field>
		</record>

		<record id="view_users_form_inherited_pappaya" model="ir.ui.view">
			<field name="name">res.users.inherited.pappaya_crm</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form"/>
			<field name="arch" type="xml">
				<xpath expr='//label[@for="login"]' position="attributes">
					<attribute name="string">Username</attribute> 
				</xpath>
			</field>
		</record>
		
		<record id="view_users_tree_inherited_pappaya" model="ir.ui.view">
			<field name="name">res.users.inherited.pappaya_crm</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_tree" />
			<field name="arch" type="xml">
				<xpath expr='//field[@name="login"]' position="attributes">
					<attribute name="string">Username</attribute> 
				</xpath>
			</field>
		</record>
		
	</data>
</odoo>
